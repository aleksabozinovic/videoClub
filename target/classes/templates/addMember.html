<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Dodavanje Membera</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">  </head>
  </head>
  <body>
	  
	  
	  
		<div class="container-fluid">
			<div class="text-center"><h2>Dodaj Clana</h2></div>
			  	<form th:action="@{/member}" method="post" th:object="${member}" style="max-width: 500px; margin: 0 auto;">
			
					  <div class="border border-secondary rounded p-3">
						  
									<input name="brojClanskeKartice" type="hidden" th:field="*{brojClanskeKarte}" class="form-control"/>
						  
						 	<!-- Prva Kolona -->
						  <div class="form-group row mb-3">
							  <label class="col-sm-4 col-from-label">Ime:</label>
								<div class="col-sm-8">
									<input required name="ime" type="text" th:field="*{ime}" class="form-control"/>
								</div>
						  </div>
						  
						 	<!-- Druga Kolona -->
						   <div class="form-group row mb-3">
							  <label class="col-sm-4 col-from-label">Prezime:</label>
								<div class="col-sm-8">
									<input required name="prezime" type="text" th:field="*{prezime}" class="form-control"/>
								</div>
						  </div>
						  
						 <!-- Treca Kolona -->
						 <div class="form-group row mb-3">
							  <label class="col-sm-4 col-from-label">Godina Rodjenja:</label>
								<div class="col-sm-8">
									<input required name="godinaRodjenja" type="text" th:field="*{godinaRodjenja}" class="form-control"/>
								</div>
						  </div>
						  
						  <!-- Cetvrta Kolona -->
						 	<div class="form-group row mb-3">
							  <label class="col-sm-4 col-from-label">Broj Telefona:</label>
								<div class="col-sm-8">
									<input required name="brojTelefona" type="text" th:field="*{brojTelefona}" class="form-control"/>
								</div>
						  </div>
						  
						  <!-- Peta Kolona -->
						 	<div class="form-group row mb-3">
							  <label class="col-sm-4 col-from-label">Email:</label>
								<div class="col-sm-8">
									<input required name="mail" type="email" th:field="*{mail}" class="form-control"/>
								</div>
						  </div>

						 
					  </div>
					<div class="text-center">
					  <button type="submit" class="btn btn-primary m-2">Sacuvaj</button>
					  <button type="button" class="btn btn-secondary m-2" onclick="cancelForm()">Otkazi</button>

				  </div>
		  		</form>
		  		
		  	
		</div>
		
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		
		<script>
			function cancelForm(){
				window.location= "[[@{/member}]]"
			}
			
			   document.getElementById('brojTelefona').addEventListener('input', function (e) {
        let brojTelefona = e.target.value;
        let regex = /^\+?[0-9]{1,3}?[- .]?[0-9]{2,3}?[- .]?[0-9]{3,4}?[- .]?[0-9]{3,4}$/;
        if (!regex.test(brojTelefona)) {
            // Ako broj telefona nije u ispravnom formatu, prikaži grešku
            e.target.setCustomValidity('Unesite ispravan broj telefona.');
        } else {
            // Ako je broj telefona u ispravnom formatu, ukloni poruku o grešci
            e.target.setCustomValidity('');
        }
    });
		</script>
		
  </body>
</html>